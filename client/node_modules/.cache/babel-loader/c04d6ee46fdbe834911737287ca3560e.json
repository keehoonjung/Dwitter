{"ast":null,"code":"import { configureStore, createSlice } from \"@reduxjs/toolkit\";\nconst userData = {\n  JK: {\n    name: \"JK\",\n    useranme: \"JK\",\n    url: \"https://res.cloudinary.com/dpvhkp8oq/image/upload/v1632646994/Motion/moxvxyhmceuumjye3lth.jpg\"\n  },\n  song: {\n    name: \"songsong\",\n    useranme: \"song\",\n    url: \"https://res.cloudinary.com/dpvhkp8oq/image/upload/v1632646994/Motion/moxvxyhmceuumjye3lth.jpg\"\n  }\n}; // const tweetData = fetch(\"http://localhost:8080/tweets\") //\n//   .then((response) => {\n//     const result = response.json();\n//     return result;\n//   })\n//   .then((result: Promise<any>) => {\n//     const data = result;\n//   });\n// [\n//   {\n//     id: \"12345\",\n//     text: \"Hello\",\n//     createdAt: Date.now(),\n//     name: \"JK\",\n//     useranme: \"SONG\",\n//     url: \"https://res.cloudinary.com/dpvhkp8oq/image/upload/v1632646994/Motion/moxvxyhmceuumjye3lth.jpg\",\n//   },\n// ];\n\nconst tweetsSlice = createSlice({\n  name: \"Tweets\",\n  initialState: {\n    user: userData,\n    data: []\n  },\n  reducers: {\n    postTweet: (state, action) => {\n      const tweet = action.payload;\n      console.log(tweetData);\n      state.data.unshift(tweet);\n    },\n    deleteTweet: (state, action) => {\n      state.data.splice(action.payload, 1);\n    },\n    getTweets: (state, action) => {\n      tweetData = fetch(`http://localhost:8080/tweets/${action.payload}`) //\n      .then(response => {\n        const result = response.json();\n        return result;\n      }).then(result => {\n        const data = result;\n        return data;\n      });\n    },\n    updateTweets: (state, action) => {\n      state.data[action.payload.index].text = action.payload.text;\n    }\n  }\n});\nconst dataStore = configureStore({\n  reducer: tweetsSlice.reducer\n});\nexport const {\n  postTweet,\n  deleteTweet,\n  getTweets,\n  updateTweets\n} = tweetsSlice.actions;\nexport default dataStore;","map":{"version":3,"sources":["/Users/keehoonjung/projects/react/dwitter/client/src/service/store.tsx"],"names":["configureStore","createSlice","userData","JK","name","useranme","url","song","tweetsSlice","initialState","user","data","reducers","postTweet","state","action","tweet","payload","console","log","tweetData","unshift","deleteTweet","splice","getTweets","fetch","then","response","result","json","updateTweets","index","text","dataStore","reducer","actions"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,WAAzB,QAA4C,kBAA5C;AA0CA,MAAMC,QAAQ,GAAG;AACfC,EAAAA,EAAE,EAAE;AACFC,IAAAA,IAAI,EAAE,IADJ;AAEFC,IAAAA,QAAQ,EAAE,IAFR;AAGFC,IAAAA,GAAG,EAAE;AAHH,GADW;AAMfC,EAAAA,IAAI,EAAE;AACJH,IAAAA,IAAI,EAAE,UADF;AAEJC,IAAAA,QAAQ,EAAE,MAFN;AAGJC,IAAAA,GAAG,EAAE;AAHD;AANS,CAAjB,C,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAME,WAAW,GAAGP,WAAW,CAAC;AAC9BG,EAAAA,IAAI,EAAE,QADwB;AAE9BK,EAAAA,YAAY,EAAE;AACZC,IAAAA,IAAI,EAAER,QADM;AAEZS,IAAAA,IAAI,EAAE;AAFM,GAFgB;AAM9BC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAE,CAACC,KAAD,EAAqBC,MAArB,KAAiD;AAC1D,YAAMC,KAAK,GAAGD,MAAM,CAACE,OAArB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AACAN,MAAAA,KAAK,CAACH,IAAN,CAAWU,OAAX,CAAmBL,KAAnB;AACD,KALO;AAMRM,IAAAA,WAAW,EAAE,CAACR,KAAD,EAAqBC,MAArB,KAAmD;AAC9DD,MAAAA,KAAK,CAACH,IAAN,CAAWY,MAAX,CAAkBR,MAAM,CAACE,OAAzB,EAAkC,CAAlC;AACD,KARO;AASRO,IAAAA,SAAS,EAAE,CAACV,KAAD,EAAqBC,MAArB,KAAgD;AACzDK,MAAAA,SAAS,GAAGK,KAAK,CAAE,gCAA+BV,MAAM,CAACE,OAAQ,EAAhD,CAAL,CAAwD;AAAxD,OACTS,IADS,CACHC,QAAD,IAAc;AAClB,cAAMC,MAAM,GAAGD,QAAQ,CAACE,IAAT,EAAf;AACA,eAAOD,MAAP;AACD,OAJS,EAKTF,IALS,CAKHE,MAAD,IAAyB;AAC7B,cAAMjB,IAAI,GAAGiB,MAAb;AACA,eAAOjB,IAAP;AACD,OARS,CAAZ;AASD,KAnBO;AAoBRmB,IAAAA,YAAY,EAAE,CAAChB,KAAD,EAAqBC,MAArB,KAAmD;AAC/DD,MAAAA,KAAK,CAACH,IAAN,CAAWI,MAAM,CAACE,OAAP,CAAec,KAA1B,EAAiCC,IAAjC,GAAwCjB,MAAM,CAACE,OAAP,CAAee,IAAvD;AACD;AAtBO;AANoB,CAAD,CAA/B;AAgCA,MAAMC,SAAS,GAAGjC,cAAc,CAAC;AAAEkC,EAAAA,OAAO,EAAE1B,WAAW,CAAC0B;AAAvB,CAAD,CAAhC;AAEA,OAAO,MAAM;AAAErB,EAAAA,SAAF;AAAaS,EAAAA,WAAb;AAA0BE,EAAAA,SAA1B;AAAqCM,EAAAA;AAArC,IACXtB,WAAW,CAAC2B,OADP;AAGP,eAAeF,SAAf","sourcesContent":["import { configureStore, createSlice } from \"@reduxjs/toolkit\";\n\nexport type TweetType = {\n  id: string;\n  createdAt: number;\n  text: string;\n  name: string;\n  useranme: string;\n  url: string;\n};\n\nexport type UserType = {\n  name: string;\n  useranme: string;\n  url: string;\n};\n\nexport type TweetsState = {\n  user: { [username: string]: UserType };\n  data: TweetType[];\n};\n\ntype postTweetAction = {\n  type: string;\n  payload: TweetType;\n};\n\ntype deleteTweetAction = {\n  type: string;\n  payload: number;\n};\n\ntype getTweetAction = {\n  type: string;\n  payload: string;\n};\n\ntype updateTweetAction = {\n  type: string;\n  payload: { index: number; text: string };\n};\n\nconst userData = {\n  JK: {\n    name: \"JK\",\n    useranme: \"JK\",\n    url: \"https://res.cloudinary.com/dpvhkp8oq/image/upload/v1632646994/Motion/moxvxyhmceuumjye3lth.jpg\",\n  },\n  song: {\n    name: \"songsong\",\n    useranme: \"song\",\n    url: \"https://res.cloudinary.com/dpvhkp8oq/image/upload/v1632646994/Motion/moxvxyhmceuumjye3lth.jpg\",\n  },\n};\n\n// const tweetData = fetch(\"http://localhost:8080/tweets\") //\n//   .then((response) => {\n//     const result = response.json();\n//     return result;\n//   })\n//   .then((result: Promise<any>) => {\n//     const data = result;\n//   });\n\n// [\n//   {\n//     id: \"12345\",\n//     text: \"Hello\",\n//     createdAt: Date.now(),\n//     name: \"JK\",\n//     useranme: \"SONG\",\n//     url: \"https://res.cloudinary.com/dpvhkp8oq/image/upload/v1632646994/Motion/moxvxyhmceuumjye3lth.jpg\",\n//   },\n// ];\n\nconst tweetsSlice = createSlice({\n  name: \"Tweets\",\n  initialState: {\n    user: userData,\n    data: [],\n  },\n  reducers: {\n    postTweet: (state: TweetsState, action: postTweetAction) => {\n      const tweet = action.payload;\n      console.log(tweetData);\n      state.data.unshift(tweet);\n    },\n    deleteTweet: (state: TweetsState, action: deleteTweetAction) => {\n      state.data.splice(action.payload, 1);\n    },\n    getTweets: (state: TweetsState, action: getTweetAction) => {\n      tweetData = fetch(`http://localhost:8080/tweets/${action.payload}`) //\n        .then((response) => {\n          const result = response.json();\n          return result;\n        })\n        .then((result: TweetType[]) => {\n          const data = result;\n          return data;\n        });\n    },\n    updateTweets: (state: TweetsState, action: updateTweetAction) => {\n      state.data[action.payload.index].text = action.payload.text;\n    },\n  },\n});\n\nconst dataStore = configureStore({ reducer: tweetsSlice.reducer });\n\nexport const { postTweet, deleteTweet, getTweets, updateTweets } =\n  tweetsSlice.actions;\n\nexport default dataStore;\n"]},"metadata":{},"sourceType":"module"}